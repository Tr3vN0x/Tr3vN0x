<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Tr3vN0x Streaming</title>

<link rel="icon" href="https://scontent-iad3-1.xx.fbcdn.net/v/t39.30808-6/559272795_794290169872684_2807127400178606404_n.jpg" type="image/png">

<style>
body { background: #0a0a0a; color: white; font-family: Arial; margin: 0; transition: background 0.3s, color 0.3s;}
header { background:#111; padding:20px; font-size:28px; font-weight:bold; text-align:center; border-bottom:2px solid red; display:flex; align-items:center; justify-content:center; gap:10px; }
header img { width:40px; height:40px; }

.container { padding: 20px; }
h2 { margin-top:40px; font-size:22px; border-left:4px solid red; padding-left:10px; }

#search-bar { width:100%; max-width:500px; padding:10px; border-radius:8px; border:none; font-size:16px; margin-bottom:20px; display:block; margin-left:auto; margin-right:auto;}
.category-tabs { display:flex; justify-content:center; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
.category-tab { background:red; border:none; padding:8px 15px; border-radius:8px; color:white; cursor:pointer; transition:0.2s; }
.category-tab:hover { background:#ff4d4d; }

#featured { display:flex; flex-direction:column; align-items:center; margin-bottom:40px; cursor:pointer; transition:0.2s; }
#featured:hover { transform:scale(1.02); }
#featured img { width:100%; max-width:700px; border-radius:12px; }
#featured-title { margin-top:10px; font-size:20px; text-align:center; }

.live-badge { position: absolute; top: 8px; left: 8px; background: red; color: white; font-size: 12px; font-weight: bold; padding: 2px 6px; border-radius: 4px; z-index: 10; animation: pulse 1.5s infinite; }
@keyframes pulse { 0% { box-shadow: 0 0 5px red; } 50% { box-shadow: 0 0 15px red; } 100% { box-shadow: 0 0 5px red; } }

.video-card-container { position: relative; }
.video-card { background:#151515; padding:10px; border-radius:10px; cursor:pointer; transition:0.2s; overflow:hidden; position:relative;}
.video-card img.thumb { width:100%; border-radius:10px; transition: opacity 0.3s ease; display:block;}
.video-card img.hover-thumb { position:absolute; top:0; left:0; width:100%; border-radius:10px; opacity:0; transition: opacity 0.3s ease; pointer-events:none; }
.video-card:hover img.hover-thumb { opacity:1; }
.video-card:hover { transform:scale(1.02); background:#1d1d1d; }
.title { margin-top:10px; font-size:16px; }

/* Heart Icon for favorites */
.video-card .heart-icon { position: absolute; top: 8px; right: 8px; font-size: 18px; color: white; cursor: pointer; z-index: 20; transition: color 0.2s, transform 0.2s; }
.video-card .heart-icon.favorited { color: red; transform: scale(1.2); }

@media(max-width:600px){ .video-grid { grid-template-columns: 1fr !important; } iframe { height:200px !important; } }
.video-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(250px,1fr)); gap:20px; }

#player-page { display:none; padding:20px; }
#player iframe { width:100%; aspect-ratio:16/9; border:none; border-radius:10px; }
#back-btn { margin-bottom:20px; padding:10px 20px; background:red; border:none; color:white; border-radius:8px; cursor:pointer; }

#theme-btn { position:absolute; right:20px; top:20px; background:red; border:none; color:white; padding:8px 12px; border-radius:8px; cursor:pointer; transition:0.3s; }
#theme-btn:hover { background:#ff4d4d; }
body.light { background:#f5f5f5; color:#111; }
body.light .video-card { background:#ddd; color:#111; }
body.light .video-card:hover { background:#ccc; }
body.light header { background:#eee; color:#111; border-bottom:2px solid red; }
</style>
</head>
<body>

<header>
    <img src="https://scontent-iad3-1.xx.fbcdn.net/v/t39.30808-6/559272795_794290169872684_2807127400178606404_n.jpg" alt="icon"/>
    Tr3vN0x Video Hub
    <button id="theme-btn">üåô</button>
</header>

<div class="container" id="home-page">
    <input type="text" id="search-bar" placeholder="üîç Search videos...">
    <div class="category-tabs">
        <button class="category-tab" data-target="featured">Featured</button>
        <button class="category-tab" data-target="recent-grid">Recent</button>
        <button class="category-tab" data-target="recommended-grid">Recommended</button>
        <button class="category-tab" data-target="favorites-grid">Favorites</button>
        <button class="category-tab" data-target="live-grid">Live</button>
        <button class="category-tab" data-target="older-grid">Older</button>
    </div>

    <div id="featured"></div>

    <h2>üÜï Recent</h2>
    <div class="video-grid" id="recent-grid"></div>

    <h2>üî• Recommended</h2>
    <div class="video-grid" id="recommended-grid"></div>

    <h2>‚≠ê Fan Favorites</h2>
    <div class="video-grid" id="favorites-grid"></div>

    <h2>üì∫ Live Stream</h2>
    <div class="video-grid" id="live-grid"></div>

    <h2>üìº Older Videos</h2>
    <div class="video-grid" id="older-grid"></div>
</div>

<div id="player-page">
    <button id="back-btn">‚Üê Back</button>
    <div id="player"></div>
    <h2 id="video-title"></h2>
</div>

<script>
// VIDEO DATA
let videoData = [
    { title: "Fan Favorite - Roblox Horror", id: "92y9uaQMIa8", category: "favorites" },
    { title: "Older Video 1", id: "XqmcBMy3X1k", category: "older" },
    { title: "Older Video 2", id: "Sn4dyr5v7m0", category: "older" },
    { title: "Older Video 3", id: "Uwwga_CiFqc", category: "older" },
    { title: "Older Video 4", id: "J-W0Vfrc26U", category: "older" },
    { title: "Who Is TR3VN0X?", id: "ZiEd3RoiKtk", category: "older" },
    { title: "Recent Upload 1", id: "92y9uaQMIa8", category: "recent" },
    { title: "Recent Upload 2", id: "kNkK_qclihc", category: "recent" }
];

let liveVideo = { title: "LIVE NOW - Playing Roblox High School 2", id: "kNkK_qclihc" };
let featuredVideo = { title: "I PLAYED ROBLOX DEAD BY DAYLIGHT (IT WAS SCARY!)", id: "92y9uaQMIa8" };

function shuffleArray(array) { for(let i=array.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [array[i],array[j]]=[array[j],array[i]];} return array; }
let recommendedVideos = shuffleArray([...videoData]).slice(0,3);

function createCard(v,isLive=false){
    const card=document.createElement("div");
    card.className="video-card video-card-container";

    const normalThumb=`https://img.youtube.com/vi/${v.id}/mqdefault.jpg`;
    const hoverThumb=`https://img.youtube.com/vi/${v.id}/hqdefault.jpg`;

    const favorites=JSON.parse(localStorage.getItem("favorites")||"[]");
    const isFavorited=favorites.includes(v.id);

    card.innerHTML=`
        ${isLive?'<div class="live-badge">LIVE</div>':''}
        <img class='thumb' src="${normalThumb}">
        <img class='hover-thumb' src="${hoverThumb}">
        <div class='title'>${v.title}</div>
        <div class="heart-icon ${isFavorited?'favorited':''}">‚ù§Ô∏è</div>
    `;

    const heart=card.querySelector(".heart-icon");
    heart.onclick=(e)=>{
        e.stopPropagation();
        let favorites=JSON.parse(localStorage.getItem("favorites")||"[]");
        if(favorites.includes(v.id)){ favorites=favorites.filter(id=>id!==v.id); heart.classList.remove("favorited"); }
        else{ favorites.push(v.id); heart.classList.add("favorited"); }
        localStorage.setItem("favorites",JSON.stringify(favorites));
    };

    card.onclick=()=>openPlayer(v);
    return card;
}

function loadVideos(){
    const featuredDiv=document.getElementById("featured");
    featuredDiv.innerHTML=`
        <img src="https://img.youtube.com/vi/${featuredVideo.id}/hqdefault.jpg" alt="Featured">
        <div id="featured-title">${featuredVideo.title}</div>
    `;
    featuredDiv.onclick=()=>openPlayer(featuredVideo);

    const recentGrid=document.getElementById("recent-grid");
    videoData.filter(v=>v.category==="recent").forEach(v=>recentGrid.appendChild(createCard(v)));

    const rec=document.getElementById("recommended-grid");
    videoData.forEach(v=>{ if(recommendedVideos.includes(v)) rec.appendChild(createCard(v)); });

    const fav=document.getElementById("favorites-grid");
    videoData.filter(v=>v.category==="favorites").forEach(v=>fav.appendChild(createCard(v)));

    const live=document.getElementById("live-grid");
    live.appendChild(createCard(liveVideo,true));

    const old=document.getElementById("older-grid");
    videoData.filter(v=>v.category==="older").forEach(v=>old.appendChild(createCard(v)));
}

function openPlayer(v){
    document.getElementById("home-page").style.display="none";
    document.getElementById("player-page").style.display="block";
    document.getElementById("player").innerHTML=`<iframe src='https://www.youtube.com/embed/${v.id}' allowfullscreen></iframe>`;
    document.getElementById("video-title").innerText=v.title;
}

document.getElementById("back-btn").onclick=()=>{
    document.getElementById("player-page").style.display="none";
    document.getElementById("home-page").style.display="block";

    recommendedVideos=shuffleArray([...videoData]).slice(0,3);
    document.getElementById("recommended-grid").innerHTML='';
    videoData.forEach(v=>{ if(recommendedVideos.includes(v)) document.getElementById("recommended-grid").appendChild(createCard(v)); });
};

// SEARCH FUNCTIONALITY
document.getElementById("search-bar").addEventListener("input",()=>{
    const query=document.getElementById("search-bar").value.toLowerCase();
    const grids=["recent-grid","recommended-grid","favorites-grid","live-grid","older-grid"];
    grids.forEach(gridId=>{
        const grid=document.getElementById(gridId);
        Array.from(grid.children).forEach(card=>{
            const title=card.querySelector(".title").innerText.toLowerCase();
            card.style.display=title.includes(query)?"block":"none";
        });
    });
    document.getElementById("featured").style.display=featuredVideo.title.toLowerCase().includes(query)?"flex":"none";
});

// CATEGORY TABS
document.querySelectorAll(".category-tab").forEach(tab=>{ tab.onclick=()=>{ const target=document.getElementById(tab.dataset.target); if(target) target.scrollIntoView({behavior:"smooth"}); }; });

// DARK/LIGHT TOGGLE
document.getElementById("theme-btn").onclick=()=>{
    document.body.classList.toggle("light");
    document.getElementById("theme-btn").innerText=document.body.classList.contains("light")?"üåë":"üåô";
};

loadVideos();
</script>
</body>
</html>
